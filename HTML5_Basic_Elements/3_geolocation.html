<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
  <meta charset="utf-8" />
  <title>Geolocation API getCurrentPosition example</title>
  <style>
    #mapholder { width:100%; height:800px; }
  </style>
</head>
<body>
  <p id="demo">Since this can compromise privacy, the position is not available unless the user approves it.</p>
  
  <div id="mapholder"></div>

  <script async
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAnI7wxBqGEhtiDnJlkxh5ac0eYf8_9tLY&callback=getLocation">
  </script>
  <script>
    var x=document.getElementById("demo");
    function getLocation()
      {
      if (navigator.geolocation)
        {
        navigator.geolocation.getCurrentPosition(showPosition,showError);
        }
      else{x.innerHTML="Geolocation is not supported by this browser.";}
      }
    
    function showPosition(position)
      {
      var lat=position.coords.latitude;
      var lon=position.coords.longitude;
      var latlon=new google.maps.LatLng(lat, lon)
      var mapholder=document.getElementById('mapholder')
      mapholder.style.height='250px';
      mapholder.style.width='100%';
    
      var myOptions={
      center:latlon,zoom:14,
      mapTypeId:google.maps.MapTypeId.ROADMAP,
      mapTypeControl:false,
      navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
      };
      var map=new google.maps.Map(document.getElementById("mapholder"),myOptions);
      var marker=new google.maps.Marker({position:latlon,map:map,title:"You are here!"});
      }
    
    function showError(error)
      {
      switch(error.code) 
        {
        case error.PERMISSION_DENIED:
          x.innerHTML="User denied the request for Geolocation."
          break;
        case error.POSITION_UNAVAILABLE:
          x.innerHTML="Location information is unavailable."
          break;
        case error.TIMEOUT:
          x.innerHTML="The request to get user location timed out."
          break;
        case error.UNKNOWN_ERROR:
          x.innerHTML="An unknown error occurred."
          break;
        }
      }
    </script>
</body>
</html>